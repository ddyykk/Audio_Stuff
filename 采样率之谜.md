- 采样率（sample rate）的意思就是采样的频率。模拟（analog）信号要被电脑记录，就要数字化，方法就是对信号的电平（level）进行记录，记录的频率就是采样频率。单位是Hz，意思是每秒采样的次数。

### 这张图错在哪里
- ![图片](https://user-images.githubusercontent.com/42371034/218047432-ef12d590-9ba1-474b-b27b-838169ee8729.png)
- 这张图错误的展示了采样的过程。
- 他让读者认为，采样就像是在一个平面上记录了很多个点，在还原信号用于播放的时候，我们就用一条平滑的曲线把这些点连起来。也许一个中学数学科上的采样是这样的，但是这样可笑的过程应该不会发生在由一堆工程师设计的数字音频产品里面的。
- 在讲述正确的采样过程之前，我还要详细的描述一下别人是怎么误会这个采样过程的。注意，以下为错误言论：
  - 一般CD的采样率为44.1Khz. 也就是它每秒会记录44100次信号。对于一个44100Hz的正弦波信号来说，他的一个周期只对应了一次采样。（信号的周期是1/44100,采样的时间间隔也是1/44100）。示意图如下：
  - ![图片](https://user-images.githubusercontent.com/42371034/218050853-52769634-8e71-4bef-af31-f0b12fca5bef.png)
  - 如果一个周期内，信号只被采样了一次，也就是只确定了图上的任意一个点，请问我们能把这个信号正确采集然后正确回放出来吗。不行，对吧。
  - 我们来设想以下极端情况，现在有一个20KHz的正弦信号需要被采样，采样率还是44100Hz，请问一个正弦周期内被采样了几次呢？不用算了，我告诉你答案，两次。
  - 关键的问题来了，如果已知一个正弦上任意两点的位置，我们能复原这个正弦信号吗？答案是也不行。比如下图就演示了，两个不同的信号都经过了同样的点：
  - ![图片](https://user-images.githubusercontent.com/42371034/218053185-486efb32-ac93-4b49-a0b1-42e732100e67.png)
  - 只要一个反例就说明两个采样点不足以采样一个正弦信号。
  - 结论：20KHz的正弦信号不能被44100Hz的采样率正确采集。
  - 错误言论结束。
  - 如果你不知道上面的话错在那里，就请接着往下看。
### 数字音频的理论基础 1.傅里叶变换
- 刚才讲理论已经很枯燥了，我在这里就不想讲了，反正我也不会。还是直接讲结论。
- 不管信号是什么样子的，哪怕是这样子的：
- 这不是乱画的，这是一个真实乐器的信号
-   ![图片](https://user-images.githubusercontent.com/42371034/218054584-0463aa69-dd3e-4558-b925-061e28c7bc83.png)
- 傅里叶变换的意思是说，这样的信号可以被分解为一系列正弦波的和。当然，不是某一种信号，而是任何信号都可以被分解为一系列正弦波。这也不是假设，而是在数学上证明了的。
- 这个理论告诉我们，采集信号，其实就是在采集正弦波，合成后的波形看起来不是正弦波没关系，测试采样的时候，只要用正弦波测试通过，那么就能采集任意信号。

### 数字音频的理论基础 2.采样定理
- 采样定理说的是，对于任意已知正弦波信号，只需要他频率一倍的采样率就可以完整采集。那么对于一个20KHz的正弦信号，需要40KHz的采样率就能完整采集。
- 这不对啊。刚刚不是画图了吗，20KHz的信号，44100Hz的采样率（比40KHz还高了那么一点），一个周期两个采样点，采到的结果不能确定唯一一个信号啊。
- 我这里不是教科书，我还是直接放答案。那两个采样点能确定的正弦信号不唯一，但是在20KHz以内是唯一的。别的信号已经超过20KHz人类能听到的范围了，我们直接摒弃就行了。
- 之所以现实中采样率不是40KHz而是高了一点就说明工程师们没有完全依赖理论，还多留了一点点余地，采到了高一点点的频率。
### 然后呢？
- 有人可能就要问了，两个采样点确定一个正弦曲线（当然带有频率上限）我明白了，但是这只是一个理论上的计算结果，我不认为喇叭只需要任意两个点就能播放一个正弦波出来。没错。
- 所以我们采样到的数字信号还要经过计算的，把这两个采样点经过计算，还原成正弦信号，然后再播放出来。这才是现代数字音频完整的流程。这个计算的过程就是模拟数字转换的核心竞争力了，因为计算总归有误差的。贵的天价产品的误差要小很多。
- 这时候再来看开头的那句话是不是就能理解了：这张图错误的展示了采样的过程。他让读者认为，采样就像是在一个平面上记录了很多个点，在还原信号用于播放的时候，我们就用一条平滑的曲线把这些点连起来。
- 两个点，不管怎么连也不可能再现一个正弦波曲线。而经过了计算，就可以100%精确还原正弦波。是绝对精确的完整信号，不是开头图片上看起来一格一格的不连续的信号。
### 实际上需要的音频采样率是多少
- 按上面说的，40KHz就可以采集到最高20KHz的信号，我们应该就用40KHz的采样率吗？理论上是这样，但是实际上还是有一些问题，在这个采样最高频率附近会有一些失真之类的问题，所以一般把这个采样最高频率设置在比20KHz高一些的地方，这就是CD标准的44.1KHz采样率的原因，后来DVD出现以后又把这个采样率提高了一点点，变成了48KHz。
- 但是后来采样率就越来越失控了，在厂商的错误宣传和发烧友的追捧下，文章开头的图片广为流传，让人觉得采样率越高就会越接近原始信号，现在有了96KHz，甚至192KHz的采样率，我实在不知道这样做的意义何在。当然有很多人宣称他们能听到192KHz采样率音质多么的好，只能说我听不出来。
- 不光我听不出来，很多业界的大佬也出来说高采样率不会带来更好的音质，其中就有数字音频ADC（模数转换器）三大厂牌之一的Larvy（其他两家是dCS和Prism sound），我看过他们老总亲自写的技术文章中提到了一个最基础的常识：人听不到超声波，不管高采样率的音乐听起来多么好听，他好听的地方一定不是20KHZ以上的频率带来的。（ 其他两家现在都因为盈利困难转做hifi发烧友的生意，自然不太敢说这些得罪发烧友的话，要是说了高采样率不好，自家的高采样率产品就没法卖了）
### 便宜的设备支持96KHz、192KHz，并不代表音质好
- 现在应该不用我说，大家也知道，设备如果以支持高采样率为卖点，声称这代表高音质，自然是无稽之谈。
- 当年真的有不少人以为设备支持高采样率就是高音质。哪怕很多声卡之类的其实很便宜也支持的，比很多贵得多的音质要差很多，但是就会有人拿来意淫这个高采样率能带来什么好处之类。
### 高采样率的坏处
- 高采样率看起来似乎没有什么好处，但是也没有坏处啊。高采样率的坏处大大的。
- 首先就是无故占用存储空间，当然现在存储空间对很多听音乐的人来说并不贵。但是对于录音的人就很贵了，毕竟听起来3分钟的歌，录音文件可能要几个小时的。
- 最大的问题就是，在采样和播放的时候，前面说了，结果是算出来的，这里面有巨大的运算量。这些运算对于一台电脑来说是不在话下的，但是对于一个CD机，一个声卡，一个小型播放机来说，他们就不会搭载电脑这么强的运算单元了吧，毕竟他们整台机子也只有电脑几分之一的价格，只有最高档的那些数字模拟转换器才会搭载强大的运算芯片。
- 对于这些便宜的设备，运算48KHz的信号还算是可以勉强用，但是96KHz和192KHz一下就让运算量大了2倍，4倍。你猜会怎么解决呢？厂家会不会搭载一个具有4倍运算力的芯片给你呢？我只能说90%都不会。
- 那怎么解决呢？降低运算精度。这可比采样率的损失大多了。
- 这也不是我瞎猜的，同样来自Larvy的技术文档，连业界最贵最顶级的厂商都承认了他们在高采样率下面会降低运算精度（虽然不是放在网站大大方方承认的，而是遮遮掩掩自己翻找才能看到的，总归是承认了），那些便宜的厂商难道不会么。降低运算精度不光是算力需求太大，电路发热也会很大。音频产品不同于电脑类的产品，音频信号在运算和处理时对电路板的温度有比较高的要求，温度越高越容易在信号中产生噪音。
- 仅仅是模拟信号到数字记录这一步就有这么大的负担，那么在录音软件里面对高采样率声音进行混音同样也是压力很大的，压力大了难保软件不会给你降低处理精度，就算没有降低处理精度，处理的速度和能做的处理也会大幅受限。就算软件不降低精度，操纵软件的人总是会不耐烦的，（例如我以前）不耐烦了就少做一点了，一般人可能也听不出来。这就是无形中的损失。
